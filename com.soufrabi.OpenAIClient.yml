app-id: com.soufrabi.OpenAIClient
runtime: org.freedesktop.Platform
runtime-version: '22.08'
sdk: org.freedesktop.Sdk
command: openai-client
rename-desktop-file: openai-client.desktop
rename-icon: openai-client
finish-args:
  - --device=dri
  - --share=ipc
  - --share=network
  - --socket=fallback-x11
  - --socket=wayland
  - --socket=pulseaudio
  # - --filesystem=home
modules:

  - name: openai-client
    buildsystem: simple
    build-commands:
      - ar -x openai-client.deb
      - rm -f openai-client.deb
      - tar -xf data.tar.*
      - rm -f control.tar.gz data.tar.* debian-binary
      - cp -rv usr/bin /app
      - cp -rv usr/share /app
      - desktop-file-edit --set-key=Icon --set-value="com.soufrabi.OpenAIClient" /app/share/applications/openai-client.desktop

    sources:
      - type: file
        url: "https://github.com/soufrabi/openai-client/releases/download/v1.0.3/openai-client.deb"
        dest-filename: "openai-client.deb"
        sha256: "ae82c33b6fb44bbbc5e2cc5db7784a4c9bc7afe4393bac56935ee90cd2012ea7"
