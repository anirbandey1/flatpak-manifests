app-id: io.github.anirbandey1.OpenAiClient
runtime: org.freedesktop.Platform
runtime-version: '22.08'
sdk: org.freedesktop.Sdk
command: openai-client
rename-desktop-file: openai-client.desktop
rename-icon: openai-client
finish-args:
  - --share=ipc
  - --share=network
  - --socket=x11
  - --socket=pulseaudio
  - --device=dri
  # - --filesystem=home
modules:

  - name: openai-client
    buildsystem: simple
    build-commands:
      - ar -x openai-client.deb
      - rm -f openai-client.deb
      - tar -xf data.tar.*
      - rm -f control.tar.gz data.tar.* debian-binary
      - cp -rv usr/bin /app/bin
      - cp -rv usr/share /app/share
      - cp -rv opt /app
      - desktop-file-edit --set-key=Exec --set-value="/app/bin/openai-client" /app/share/applications/openai-client.desktop
      - desktop-file-edit --set-key=Icon --set-value="io.github.anirbandey1.OpenAiClient" /app/share/applications/openai-client.desktop

    sources:
      - type: file
        url: "https://github.com/anirbandey1/openai-client/releases/download/v1.0.1/openai-client.deb"
        dest-filename: "openai-client.deb"
        sha256: "0f03235f217f6e9affff4b5426af9612650a7b43a14d0c2eef2cdb02b3dff098"
